# IO

计算机操作外设，都是通过 CPU 往设备的控制器（显卡）中的寄存器中写入内容，设备会根据这些内容进行工作。

显卡工作完成后，向 CPU 发起一个中断，根据中断的类型，CPU 也会进行响应操作，比如将设备工作的结果写入内存。



由于各种设备的寄存器地址，内容格式等操作各不相同，为了方便操作，操作系统需要用一层文件视图，屏蔽底层细节。

```c
int fd = open("/dev/xxx")
```

有了文件视图这一层，CPU 操作设备都会抽象成对文件的打开，关闭，和读写操作。



```
open,read,write,close
```

比如，printf 需要在屏幕显示文本，在操作系统的底层中，其实就是访问显示器设备对应的文件，这个文件中包含了控制器的地址，内容格式等信息。

## 显示器

## 键盘